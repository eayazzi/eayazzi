<div *ngIf="loading" class="loading-container flex-content-center">
  <mat-progress-spinner color="primary" mode="indeterminate">
  </mat-progress-spinner>
</div>
<div class="page-container mat-elevation-z8" *ngIf="!loading">
  <mat-table [dataSource]="dataSource">
    <ng-container matColumnDef="name">
      <mat-header-cell *matHeaderCellDef>Nombre</mat-header-cell>
      <mat-cell *matCellDef="let element">{{ element.name }}</mat-cell>
      <mat-footer-cell *matFooterCellDef
        >Promedio edades: {{ getTotalCost() }}</mat-footer-cell
      >
    </ng-container>

    <ng-container matColumnDef="lastname">
      <mat-header-cell *matHeaderCellDef>Apellido</mat-header-cell>
      <mat-cell *matCellDef="let element">{{ element.lastName }}</mat-cell>
      <mat-footer-cell *matFooterCellDef></mat-footer-cell>
    </ng-container>

    <ng-container matColumnDef="age">
      <mat-header-cell *matHeaderCellDef>Edad</mat-header-cell>
      <mat-cell *matCellDef="let element">{{ element.age }}</mat-cell>
      <mat-footer-cell *matFooterCellDef
        ><span
          >Desviaci√≥n estandar: {{ standardDeviation | number }}</span
        ></mat-footer-cell
      >
    </ng-container>

    <ng-container matColumnDef="date">
      <mat-header-cell *matHeaderCellDef>Fecha Nacimiento</mat-header-cell>
      <mat-cell *matCellDef="let element">
        {{ element.dateOfBirth.toDate() | date: "dd/MM/yyyy" }}
      </mat-cell>
      <mat-footer-cell *matFooterCellDef></mat-footer-cell>
    </ng-container>

    <ng-container matColumnDef="actions">
      <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
      <mat-cell *matCellDef="let row">
        <button mat-raised-button color="primary" [routerLink]="['/cliente/', row.id]">
          Ver
        </button>
      </mat-cell>
      <mat-footer-cell *matFooterCellDef></mat-footer-cell>
    </ng-container>

    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
    <mat-footer-row
      *matFooterRowDef="displayedColumns; sticky: true"
    ></mat-footer-row>
  </mat-table>
</div>
